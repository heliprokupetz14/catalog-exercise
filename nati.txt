NAME: geo-catalog
LAST DEPLOYED: Wed Sep 20 17:23:38 2023
NAMESPACE: 3d-dev
STATUS: pending-install
REVISION: 1
TEST SUITE: None
HOOKS:
MANIFEST:
---
# Source: geo-catalog/templates/configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: geo-catalog-geo-catalog-configmap
data:
  REQUEST_PAYLOAD_LIMIT: "1mb"
  RESPONSE_COMPRESSION_ENABLED: "true"
  DB_HOST: "10.0.4.4"
  DB_PORT: "5432"
  DB_NAME: catalog
  DB_PASSWORD: Libot4allnonprod
  DB_USERNAME: postgres
  LOG_LEVEL: "info"
  LOG_PRETTY_PRINT_ENABLED: "false"
  
  
  npm_config_cache: /tmp/
---
# Source: geo-catalog/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: geo-catalog-geo-catalog
  labels:
    app: geo-catalog
    component: geo-catalog
    environment: development
    release: geo-catalog
    helm.sh/chart: geo-catalog-1.0.0
    app.kubernetes.io/name: geo-catalog
    app.kubernetes.io/instance: geo-catalog
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/managed-by: Helm
spec:
  ports:
    - port: 8080
      targetPort: 8080
      protocol: TCP
      name: http
  selector:
    app: geo-catalog
    release: geo-catalog
    run: geo-catalog-geo-catalog
    app.kubernetes.io/name: geo-catalog
    app.kubernetes.io/instance: geo-catalog
---
# Source: geo-catalog/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: geo-catalog-geo-catalog
  labels:
    app: geo-catalog
    component: geo-catalog
    environment: development
    release: geo-catalog
    helm.sh/chart: geo-catalog-1.0.0
    app.kubernetes.io/name: geo-catalog
    app.kubernetes.io/instance: geo-catalog
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app: geo-catalog
      release: geo-catalog
      run: geo-catalog-geo-catalog
      app.kubernetes.io/name: geo-catalog
      app.kubernetes.io/instance: geo-catalog
  template:
    metadata:
      labels:
        app: geo-catalog
        release: geo-catalog
        run: geo-catalog-geo-catalog
        app.kubernetes.io/name: geo-catalog
        app.kubernetes.io/instance: geo-catalog
    spec:
      containers:
        - name: geo-catalog-geo-catalog-deployment
          image: acrarolibotnonprod.azurecr.io/geo-catalog:v1.0.7
          volumeMounts:
          env:
            - name: SERVER_PORT
              value: "8080"
          envFrom:
            - configMapRef:
                name: geo-catalog-geo-catalog-configmap
          ports:
            - name: http
              containerPort: 8080
              protocol: TCP
          # livenessProbe:
          #   initialDelaySeconds: 60
          #   httpGet:
          #     path: /liveness
          #     port: 8080
          resources:
            limits:
              cpu: 100m
              memory: 128Mi
            requests:
              cpu: 100m
              memory: 128Mi
      volumes:
---
# Source: geo-catalog/templates/route.yaml
apiVersion: route.openshift.io/v1
kind: Route
metadata:
  name: geo-catalog-geo-catalog-route
  annotations:
    haproxy.router.openshift.io/rewrite-target: /
spec:
  path:  /
  to:
    kind: Service
    name: geo-catalog-geo-catalog
  tls:
    termination: edge

